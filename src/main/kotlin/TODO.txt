separated components in Main.kt
set constant size of app UI

Wybór pliku z dowolnego folderu, nie tylko resources!

// https://dicom.nema.org/medical/dicom/current/output/html/part10.html#glossentry_DICOMFileFormat
// TABLE A.1-1. Directory Content Example

W danych nie ma: Spacing Between Slices (0018,0088)

- OK z ByteArray tworzy ShortArray i kilka takich do mk.3DArray
- DONE I spraw, żeby na podstawie transferSyntax interpretowało klasycznie, jako JPEG, albo nieskompresowane.
  Może to jako funkcja w interpretData, ale zmień użycia w byteArrayToImage na to, co napiszesz.
- DONE przeskaluj hounsfield
- DONE get przekrój.
    - prostopadle done,
    - skośnie done

- wyświetl przekrój w main, daj to na ekran!
    FIXDONE wysokość jest podwojona
    FIXDONE whd zawiera dane sprzed przetworzenia obrazka. Aktualizuj wymiary przy zmianie array3d
    FIXMELATER za dużo komunikatów z UI
    FIXDONE obrazek się nie zmienia przy kliknięciu suwaka
    ?FIXMAYBEDONE? gantry w drugą stronę
    VANISHED  coś jest nie tak z tym środkowym? wygląda jakby się przesuwał, ale to może od poprzedniego błędu
    FIXDONE powolne ładowanie plików.

    WYDAJNOŚĆ:
    DONE - Zrównoleglij.
    DONE - potem może mniej konwersji. Jeśli możliwe - najlepiej brak konwersji, ShortArray, najgorzej Array<Short>.
    EEEE - Te niskopoziomowe funkcje bez użycia kolekcji: endianIntParser (400ms dla 60 obrazków), transformEachPixel
    EEEE - ostatnia hash mapa zamiast mapy.

- DONE zmiana palety barw array<short> -> wg zakresu na ekran -> array<byte 255>

Rzeczy pozostałe do uwzględnienia:
!        "[0028 0106]", // -> Smallest Image Pixel Value (MIN VAL)
!        "[0028 0107]", // -> Largest Image Pixel Value  (MAX VAL)




--- Zadanie 2:

- 3 rzuty: transversal, sagittal, coronal. OK, to po prostu xy zy zx

- DONE zrównoleglone liczenie projekcji
- DONE obrót wokół środka
- DONE regulacja zakresu
- DONE podświetlenie first hit
- DONE klik -> przestaw pozostałe 2 widoki. Opcjonalnie w trybie EFFICIENT_NONE, przy przeciąganiu na bieżąco

- tryby:
    DONE - none - jak w zad 1
    DONE - średnia
    DONE - max
    DONE - first hit - pierwsza wartość większa od: wartość wybrana suwakiem.
    FIXDONE Gdy piksel spełnia wymóg FIRST_HIT w trybie none, to kolor czerwony
- DONE tekst z podanymi kątami

- animacja - obrót o wybrany kąt i liczba klatek
    - na wszystkich 3 przekrojach?
    - wyświetl animację
    - kontrola animacji:
      - suwak czasu, przewijanie
      - play/pause
      - regulacja prędkości
      - tryb ping-pong
      - wizualizacja kąta obrotu: podane stopnie albo wskaźnik
    - eksport animacji sekwencja png lub gif

Tylko eksport animacji

- wskaźnik wartości onHover
- Dlaczego środkowy widok - top jest wolniejszy od side? (poza trybem efficient none)

From real specification:
- DONE Dla każdego widoku (transversal, sagittal, coronal) zaimplementować funkcję zbierającą wartości intensywności wzdłuż promienia prostopadłego do płaszczyzny obrazu.
  Np. dla widoku transversal (podstawowego), dla pozycji (x, y) zbierane są wszystkie wartości wzdłuż osi Z.
- DONE Zaimplementować funkcję obliczającą projekcję dla każdego piksela wynikowego obrazu w trybach:
  Tryby NONE, MAX, MEAN, FIRST_HIT tylko w projekcji ???
- DONE Piksele spełniające warunek są kolorowane (np. na czerwono) tylko w trybie "None".

3. Interaktywna kontrola animacji
Aby ułatwić analizę, dodać panel sterowania animacją z następującymi funkcjami:
- DONE Suwak czasu – umożliwia ręczne przewijanie klatek.
- DONE Sterowanie odtwarzaniem – przyciski Play/Pause, przewijanie do przodu/tyłu.
- DONE Regulacja prędkości – opcje np. 0.5x, 1x, 2x.
- DONE Tryb "Ping-Pong" – animacja odtwarza się w przód i w tył.
- DONE Wizualizacja kąta obrotu – wyświetlanie aktualnego kąta (np. w stopniach)

2. Generowanie animacji obrotu wolumenu
DONE Animacja powstaje poprzez obrót wolumenu wokół środka obrazu (oś Z dla rzutu bocznego) i generowanie klatek.


Kroki generowania animacji:
- DONE Obrót oryginalnych przekrojów o kąt α (może być własna implementacja lub użycie gotowej funkcji z biblioteki).
- DONE Wykonanie ustalonej liczby klatek (np. 36, co 10° dla pełnego obrotu 360°).
- DONE Dla każdego kąta:
  - DONE Obróć wszystkie przekroje, tworząc nowy, przekształcony wolumen (możliwa optymalizacja: zmniejszenie rozdzielczości np. do 128×128×Z).
  - DONE Wykonaj projekcję w rzucie bocznym (np. sagittal) i zapisz wynikowy obraz.
- DONE Wyświetl sekwencję klatek jako animację.

4. Dodatkowe efekty wizualne
- DONE Możliwość eksportu animacji – np. jako plik GIF lub sekwencję PNG.

- OK in none and firstHit mode: Podświetlanie progu "First Hit" – w czasie rzeczywistym, gdy użytkownik zmienia próg suwakiem,
  odpowiednie piksele są podświetlane na wszystkich widokach (np. pulsujące kontury lub półprzezroczyste nakładki).


- DONE mamy mieć możliwość pomiaru za pomocą rysowania łamanej - długości oraz pola powierzchni (uwzględniając rozmiary woksela) na każdym z rzutów.

--- ALL DONE ---
